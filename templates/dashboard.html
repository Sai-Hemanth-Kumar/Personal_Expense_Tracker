{% extends 'base.html' %}
{% block content %}
<h2>{{ user.name }}'s Dashboard</h2>
<p>Page Expense: â‚¹{{ total_expense }}</p>

<div class="search-bar">
  <input type="text" id="searchInput" placeholder="Search by title, category, or amount...">
</div>

<table id="expenseTable">
  <thead>
    <tr>
      <th>Title</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% if expenses|length == 0 %}
      <tr>
        <td colspan="4" style="text-align: center; color: #888;">No Data</td>
      </tr>
    {% else %}
      {% for expense in expenses %}
      <tr>
        <td>{{ expense.title }}</td>
        <td>{{ expense.amount }}</td>
        <td>{{ expense.category }}</td>
        <td>{{ expense.date }}</td>
      </tr>
      {% endfor %}
    {% endif %}
  </tbody>
</table>

<div style="margin-top: 24px; text-align: center;">
  {% if page > 1 %}
    <a href="{{ url_for('dashboard', page=page-1) }}">Previous</a>
  {% endif %}
  <span>Page {{ page }} of {{ total_pages }}</span>
  {% if page < total_pages %}
    <a href="{{ url_for('dashboard', page=page+1) }}">Next</a>
  {% endif %}
</div>
{% endblock %}
